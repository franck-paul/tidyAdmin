"use strict";dotclear.ready(()=>{const e=dotclear.getData("tidyadmin_userprefs"),t=!0===window.matchMedia("(prefers-reduced-motion: reduce)")?.matches,n=e=>{const{tabIndex:t}=e;if(t<0)return!1;if(e.closest("[inert]"))return!1;if(e.disabled)return!1;if(e.hidden)return!1;if("true"===e.getAttribute("aria-hidden"))return!1;const n=getComputedStyle(e);if("none"===n.display||"hidden"===n.visibility)return!1;const o=e.getBoundingClientRect();return 0!==o.width||0!==o.height},o=(e,t)=>{const n=e.tabIndex,o=t.tabIndex;return n>0&&o>0?n-o:n>0?-1:o>0?1:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1},r=(e,r="")=>{const i=""===r?"#":`#${r}.`;globalThis.location=`${i}${e}`;const d=document.getElementById(e);d.scrollIntoView({behavior:t?"instant":"smooth",block:"start",inline:"nearest"}),(e=>{if(!e||e.closest("[inert]"))return;const t=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[tabindex]"].join(","),r=Array.from(e.querySelectorAll(t)),i=r.filter(n);i.length&&(i.sort(o),i[0].focus({preventScroll:!0,focusVisible:!0}))})(d)};for(const t of document.querySelectorAll('[name="user-options"]')){const n=t.querySelector("h3");if(n){const o=[];for(const e of t.querySelectorAll("fieldset")){let t=e.getAttribute("id");const n=e.querySelector("legend");if(n){t||(t=`group-${Date.now()}-${Math.floor(8999*Math.random()+1e3)}`,e.setAttribute("id",t));const r=document.createElement("option");r.setAttribute("value",`${t}`),r.appendChild(document.createTextNode(n.textContent.trim())),o.push(r)}}if(o.length){const i=document.createElement("label");i.appendChild(document.createTextNode(e.goto)),i.classList.add("navigation","form-buttons");const d=document.createElement("select");d.setAttribute("id",`go-${t.getAttribute("name")}`),d.classList.add("meta-helper"),o.forEach(e=>d.appendChild(e)),d.addEventListener("change",e=>r(e.target.value,"user-options")),i.appendChild(d),n.after(i)}}}});
